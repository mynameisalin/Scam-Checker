<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scam Checker</title>
    <style>
        body { font-family: Arial, sans-serif; }
        form { max-width: 400px; margin: 50px auto; }
        input, select, button { display: block; width: 100%; margin: 10px 0; padding: 10px; }
    </style>
</head>
<body>
    <h1>Scam Checker</h1>
    <form id="scamForm">
        <label for="type">Type:</label>
        <select id="type" name="type" required>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
        </select>

        <label for="value">Value:</label>
        <input type="text" id="value" name="value" placeholder="Enter email or phone number" required />

        <button type="submit">Check</button>
    </form>
    <p id="result"></p>

    <button id="dismissBtn" style="display:none;">Dismiss</button>

    <h2>Scam Entries</h2>
<button id="loadEntries">Load Entries</button>
<ul id="entriesList"></ul>

    <script>
        const form = document.getElementById("scamForm");
        const result = document.getElementById("result");
        const dismissBtn = document.getElementById("dismissBtn");

form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const type = document.getElementById("type").value;
    const value = document.getElementById("value").value;

    const response = await fetch("http://localhost:3000/check", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ type, value }),
    });

    const data = await response.json();
    result.textContent = data.message;
    result.style.display = "block";
    dismissBtn.style.display = "inline-block";
});

document.getElementById("loadEntries").addEventListener("click", async () => {
    const response = await fetch("http://localhost:3000/entries");
    const entries = await response.json();

    const entriesList = document.getElementById("entriesList");
    entriesList.innerHTML = "";

    entries.forEach(entry => {
        const li = document.createElement("li");
        li.textContent = `${entry.type}: ${entry.value}`;
        entriesList.appendChild(li);
    });
});

dismissBtn.addEventListener("click", () => {
    result.textContent = "";
    dismissBtn.style.display = "none";
});

    </script>
</body>
</html>
